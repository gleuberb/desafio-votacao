CREATE TABLE pauta (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    titulo VARCHAR(255) NOT NULL,
    descricao TEXT,
    data_abertura TIMESTAMP,
    data_fechamento TIMESTAMP
);

CREATE TABLE voto (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    pauta_id BIGINT NOT NULL,
    cpf VARCHAR(11) NOT NULL,
    voto VARCHAR(3) NOT NULL,
    CONSTRAINT fk_pauta FOREIGN KEY (pauta_id) REFERENCES pauta(id) ON DELETE CASCADE
);

CREATE INDEX idx_voto_cpf ON voto(cpf);
